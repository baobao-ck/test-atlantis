version: 3
projects:
  - dir: .
    autoplan:
      enabled: true
      when_modified:
        - "*.tf"
        - "*.tfvars"
        - "backend.tf"

  - dir: tools
    autoplan:
      enabled: true
      when_modified:
        - "tools/*.tf"
        - "tools/**/*.tf"
        - "tools/*.tfvars"
        - "tools/**/*.tfvars"
        - "modules/**/*.tf"     # if you want tools project to plan when modules change
